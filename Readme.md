## Порты сервисов

Ниже приведена информация по портам, на которых работают все сервисы (host:container):

| Сервис             | Host-порт | Контейнер-порт | Docker-сеть | Описание                                      |
|--------------------|-----------|---------------|-------------|-----------------------------------------------|
| Frontend (nginx)   | 3000      | 80            | petnet      | Веб-интерфейс (SPA, React, nginx)             |
| Backend (.NET API) | 5000      | 5000          | petnet      | API (авторизация, бизнес-логика)              |
| PostgreSQL         | 5432      | 5432          | petnet      | База данных                                   |
| Grafana            | 3001      | 3000          | petnet      | Веб-интерфейс мониторинга                     |
| Loki               | 3100      | 3100          | petnet      | Сервис сбора логов                            |
| Fluent-bit         | 24224     | 24224         | petnet      | Агент сбора логов (Fluent Bit, TCP)           |

### Внутрисетевые адреса (docker-сеть `petnet`):

- **Frontend** обращается к **Backend** по адресу: `http://backend:5000`
- **Frontend** (nginx) проксирует `/auth` и `/check` на backend:  
  см. [frontend/nginx.conf](frontend/nginx.conf)
- **Grafana** и **Loki** доступны только внутри сети `petnet` (кроме Grafana, проброшенного наружу)
- **Fluent-bit** слушает на `0.0.0.0:24224` (TCP) для сбора логов от других контейнеров

### Примечания

- Внешний порт для API (backend) — **5000**, а не 8080.
- Внешний порт для frontend — **3000** (nginx внутри контейнера слушает 80).
- Grafana проброшен на **3001** (host), внутри контейнера — 3000.
- Loki проброшен на **3100**.
- Все сервисы подключены к одной docker-сети `petnet`.
- В файле [frontend/vite.config.ts](frontend/vite.config.ts) для разработки фронтенда используется порт **5173** (только для dev-режима, не в Docker).